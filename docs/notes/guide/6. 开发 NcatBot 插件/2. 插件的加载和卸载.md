---
title: 插件的加载和卸载
createTime: 2025/02/08 10:07:54
permalink: /guide/loadplg/
---

## 插件加载

`BasePlugin` 提供 `on_load` 方法, 重写 `on_load` 方法可以在在插件加载时执行一些任务.

一般来说, 以下工作需要**你**在插件加载时完成:

- 为插件[订阅事件](3.%20插件的交互系统/3.1%20事件的发布和订阅.md#根据事件名称订阅事件).
- 为插件[注册插件配置项](3.%20插件的交互系统/3.4%20内置功能.md#插件配置项).
- 为插件[注册功能](3.%20插件的交互系统/3.2%20注册功能.md).
- 为插件[注册定时任务](3.%20插件的交互系统/3.4%20内置功能.md#定时任务).
- 其它你**自定义的**需要在加载时初始化的任务.

```python
class MyPlugin(BasePlugin):
    def on_load(self):
        print(f"插件 {self.name} 加载成功")
```


## 插件卸载

`BasePlugin` 提供 `_close_` 方法, 重写 `_close_` 方法可以在在插件卸载时执行一些任务.

一般来说, 以下工作需要**你**在插件卸载时完成:

- 其它你**自定义的**需要在加载时初始化的任务(对应 `on_load` 方法中的自定义任务).

如果你希望数据能够被保存下来以便下次使用, 一般无需自行实现, 可以使用[内置可持久化数据](./4.%20内置可持久化数据.md)或者[插件配置项](./3.%20插件的交互系统/3.4%20内置功能.md#插件配置项).

