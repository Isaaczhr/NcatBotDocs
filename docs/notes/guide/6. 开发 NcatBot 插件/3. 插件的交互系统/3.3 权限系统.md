---
title: 权限系统
createTime: 2025-03-27 10:52:00
permalink: /guide/permission/
---

## 权限的作用范围

权限只对==功能==生效.

群组和用户的权限独立, 当且仅当用户权限和群聊权限同时满足时, 才能触发对应功能.

## 权限分级

NcatBot 的内置权限机制包括 `user`, `admin`, `root` 三级:

- `user` 权限: 使用 `user` 级别功能, `user` 权限默认分配给所有用户
- `admin` 权限: `user` 的全部权限以及 `admin` 级别功能.
- `root` 权限: `admin` 的全部权限以及 `root` 级别功能.

## 权限管理

[内置功能](3.4%20内置功能.md)中的 [sm](3.4%20内置功能.md#sm) 和 [acs](3.4%20内置功能.md#acs) 可以用于管理权限.

权限相关的文件将会自动保存到 `data/U_access.json` 和 `data/G_access.json` 文件中, 重启后自动加载.

可以格式化两个文件后手动修改权限.

## 用途

可以管理插件的功能在哪些群聊生效，以及哪些用户可以触发功能。

### 常见用法

- 禁止某个群聊使用某个插件的全部功能: 该插件功能定义为 `user` 权限（默认可以使用），使用 `/acs -g ban <群号> <插件名>.*` 来禁止该群聊使用该插件.
- 允许某个群聊使用某个插件的全部功能: 该插件功能定义为 `admin` 权限（默认不能使用），使用 `/acs -g grant <群号> <插件名>.*` 来允许该群聊使用该插件.

## 自定义权限管理

咕咕咕
